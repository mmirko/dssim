registers = { STATE = {"IDLE", "INIT", "DONE"}}
messtypes = { CLOCK = 'clock', IMPULSE = {"YES"}, BROADCAST = {"SENT"} }

-- messtypes_new = { CLOCK = 'clock', IMPULSE = {"YES"}, BROADCAST = {"SENT"} , IMP = 'int'}

options = { "RESET_MESS" }
actions = {}

actions[{"STATE_INIT","IMPULSE_YES"}] = 	[[
							set STATE=DONE;
							send BROADCAST=SENT to NEIGHBORS;
					   	]]

actions[{"STATE_IDLE","BROADCAST_SENT"}] = 	[[
							set STATE=DONE;
							send BROADCAST=SENT to NEIGHBORS;
					   	]]

-- Tests

-- for i in NEIGHBORS do
--     send BROADCAST_SEND to i
-- end

-- for i in NEIGHBORS do
--   if labelto(i) < labelfrom(sender) then
--     exitexitsend BROADCAST_SEND to i
--   end
-- end
